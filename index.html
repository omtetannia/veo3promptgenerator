import React, { useState } from 'react';

// Main App component
const App = () => {
    // State for Story Details
    const [logline, setLogline] = useState('');
    const [overallMood, setOverallMood] = useState([]); // Changed to array for checkboxes
    const [customOverallMood, setCustomOverallMood] = useState(''); // New state for custom mood input
    const [showCustomMoodInput, setShowCustomMoodInput] = useState(false); // State to control custom mood input visibility

    // State for Characters
    const [characters, setCharacters] = useState([
        { name: '', nationality: '', characteristics: '', mainAction: '', emotion: '', dialogue: '' }
    ]);

    // State for Setting
    const [location, setLocation] = useState('');
    const [locationAtmosphere, setLocationAtmosphere] = useState('');
    const [timeOfDay, setTimeOfDay] = useState(''); // Dropdown
    const [weather, setWeather] = useState('');     // Dropdown
    const [season, setSeason] = useState('');       // Dropdown

    // State for Camera
    const [cameraStyle, setCameraStyle] = useState('');           // Dropdown
    const [cameraMovement, setCameraMovement] = useState('');     // Dropdown (ID)
    const [cameraAngle, setCameraAngle] = useState('');           // Dropdown
    const [focus, setFocus] = useState('');                       // Dropdown
    const [lighting, setLighting] = useState('');                 // Dropdown
    const [colorGrading, setColorGrading] = useState('');         // Dropdown

    // State for Audio
    const [dialogueType, setDialogueType] = useState(''); // Dropdown
    const [voiceMood, setVoiceMood] = useState(''); // Text input, as per options suggested
    const [environmentalSound, setEnvironmentalSound] = useState('');
    const [backgroundMusic, setBackgroundMusic] = useState('');

    // State for Video Quality & Duration
    const [videoQuality, setVideoQuality] = useState(''); // Dropdown
    const [videoDuration, setVideoDuration] = useState(''); // Dropdown
    const [videoRatio, setVideoRatio] = useState('');       // Dropdown

    // State to store the generated prompts in Indonesian and English
    const [indonesianPrompt, setIndonesianPrompt] = useState('');
    const [englishPrompt, setEnglishPrompt] = useState('');

    // Dropdown/Checkbox Options
    const overallMoodOptions = ['Lucu', 'Absurd', 'Ringan', 'Dramatis', 'Sedih', 'Horor', 'Petualangan', 'Misterius', 'Ceria', 'Emosional', 'Lainnya']; // Added 'Lainnya'
    const timeOfDayOptions = ['Pagi hari', 'Siang hari', 'Sore hari', 'Malam hari'];
    const weatherOptions = ['Cerah', 'Berawan', 'Hujan', 'Bersalju', 'Berkabut'];
    const seasonOptions = ['Semi', 'Panas', 'Gugur', 'Dingin'];
    const cameraStyleOptions = ['Dokumener', 'Sinematik', 'POV', 'Jurnalistik', 'Still'];
    const cameraMovementOptions = ['Pan Kiri', 'Pan Kanan', 'Tilt Atas', 'Tilt Bawah', 'Dolly In', 'Dolly Out', 'Crane Shot', 'Stabil', 'Handheld'];
    const cameraAngleOptions = ['Sudut Rendah', 'Sudut Tinggi', 'Mata Burung', 'Normal'];
    const focusOptions = ['Dalam', 'Dangkal', 'Otomatis'];
    const lightingOptions = ['Alami', 'Rendah Kunci', 'Tinggi Kunci', 'Kontras Tinggi', 'Lembut', 'Neon', 'Dramatis'];
    const colorGradingOptions = ['Cerah & Jenuh', 'Gelap & Kusam', 'Monokrom', 'Sepia', 'Vibrant', 'Vintage'];
    const dialogueTypeOptions = ['Tanpa dialog', 'Informatif', 'Natural dialog', 'Monolog', 'Interview'];
    const videoQualityOptions = ['4K', 'HD', 'SD'];
    const videoDurationOptions = ['8 Detik', '7 Detik', '6 Detik'];
    const videoRatioOptions = ['LANDSCAPE 16:9', 'PORTRAIT 9:16'];
    const voiceMoodOptions = ['Happy', 'Sad', 'Cheerful', 'Marah', 'Menyeramkan', 'Tenang', 'Semangat', 'Bosan'];

    // Helper function for translating options
    const translateOption = (option) => {
        const translations = {
            'Lucu': 'Funny', 'Absurd': 'Absurd', 'Ringan': 'Lighthearted', 'Dramatis': 'Dramatic', 'Sedih': 'Sad', 'Horor': 'Horror', 'Petualangan': 'Adventure', 'Misterius': 'Mysterious', 'Ceria': 'Cheerful', 'Emosional': 'Emotional', 'Lainnya': 'Other', // Added 'Lainnya' translation
            'Pagi hari': 'Morning', 'Siang hari': 'Daytime', 'Sore hari': 'Afternoon', 'Malam hari': 'Night',
            'Cerah': 'Sunny', 'Berawan': 'Cloudy', 'Hujan': 'Rainy', 'Bersalju': 'Snowy', 'Berkabut': 'Foggy',
            'Semi': 'Spring', 'Panas': 'Summer', 'Gugur': 'Autumn', 'Dingin': 'Winter',
            'Dokumener': 'Documentary', 'Sinematik': 'Cinematic', 'POV': 'POV', 'Jurnalistik': 'Journalistic', 'Still': 'Still',
            'Pan Kiri': 'Pan Left', 'Pan Kanan': 'Pan Right', 'Tilt Atas': 'Tilt Up', 'Tilt Bawah': 'Tilt Down', 'Dolly In': 'Dolly In', 'Dolly Out': 'Dolly Out', 'Crane Shot': 'Crane Shot', 'Stabil': 'Stable', 'Handheld': 'Handheld',
            'Sudut Rendah': 'Low Angle', 'Sudut Tinggi': 'High Angle', 'Mata Burung': 'Bird\'s Eye View', 'Normal': 'Eye-level',
            'Dalam': 'Deep Focus', 'Dangkal': 'Shallow Focus', 'Otomatis': 'Auto Focus',
            'Alami': 'Natural', 'Rendah Kunci': 'Low Key', 'Tinggi Kunci': 'High Key', 'Kontras Tinggi': 'High Contrast', 'Lembut': 'Soft', 'Neon': 'Neon',
            'Cerah & Jenuh': 'Bright & Saturated', 'Gelap & Kusam': 'Dark & Muted', 'Monokrom': 'Monochrome', 'Sepia': 'Sepia', 'Vibrant': 'Vibrant', 'Vintage': 'Vintage',
            'Tanpa dialog': 'No dialogue', 'Informatif': 'Informative', 'Natural dialog': 'Natural dialogue', 'Monolog': 'Monologue', 'Interview': 'Interview',
            'Happy': 'Happy', 'Sad': 'Sad', 'Cheerful': 'Cheerful', 'Marah': 'Angry', 'Menyeramkan': 'Scary', 'Tenang': 'Calm', 'Semangat': 'Energetic', 'Bosan': 'Bored',
            '4K': '4K', 'HD': 'HD', 'SD': 'SD',
            '8 Detik': '8 Seconds', '7 Detik': '7 Seconds', '6 Detik': '6 Seconds',
            'LANDSCAPE 16:9': 'LANDSCAPE 16:9', 'PORTRAIT 9:16': 'PORTRAIT 9:16',
        };
        return translations[option] || option;
    };

    /**
     * Handles adding a new character input block.
     */
    const addCharacter = () => {
        setCharacters([...characters, { name: '', nationality: '', characteristics: '', mainAction: '', emotion: '', dialogue: '' }]);
    };

    /**
     * Handles removing a character input block. Also cleans up their dialogue if any.
     */
    const removeCharacter = (index) => {
        const newCharacters = characters.filter((_, i) => i !== index);
        setCharacters(newCharacters);
    };

    /**
     * Handles changes to individual character fields.
     */
    const handleCharacterChange = (index, field, value) => {
        const newCharacters = characters.map((char, i) =>
            i === index ? { ...char, [field]: value } : char
        );
        setCharacters(newCharacters);
    };

    /**
     * Handles changes for the overallMood checkboxes.
     */
    const handleOverallMoodChange = (mood) => {
        setOverallMood(prevMoods => {
            const isChecked = prevMoods.includes(mood);

            if (mood === 'Lainnya') {
                setShowCustomMoodInput(!isChecked); // Toggle visibility
                if (isChecked) {
                    setCustomOverallMood(''); // Clear custom input if 'Lainnya' is unchecked
                    return prevMoods.filter(m => m !== mood);
                } else {
                    return [...prevMoods, mood];
                }
            } else {
                return isChecked
                    ? prevMoods.filter(m => m !== mood)
                    : [...prevMoods, mood];
            }
        });
    };

    /**
     * Function to generate prompts based on current state inputs.
     * It constructs prompts for both Indonesian and English, following a Gemini-like structure for Veo 3.
     */
    const generatePrompt = () => {
        // Prepare overall moods for prompt, including custom if present
        const currentOverallMoods = overallMood.filter(m => m !== 'Lainnya');
        if (overallMood.includes('Lainnya') && customOverallMood.trim()) {
            currentOverallMoods.push(customOverallMood.trim());
        }

        // --- Indonesian Prompt Construction ---
        let idPromptParts = [];
        if (logline) idPromptParts.push(`Video tentang "${logline}".`);
        if (currentOverallMoods.length > 0) idPromptParts.push(`Dengan suasana: ${currentOverallMoods.map(m => m.toLowerCase()).join(', ')}.`);

        // Characters
        if (characters.length > 0) {
            characters.forEach(char => {
                let charDesc = `Karakter: `;
                if (char.name) charDesc += `"${char.name}"`;
                if (char.nationality) charDesc += `, ${char.nationality}`;
                if (char.characteristics) charDesc += `, ${char.characteristics}`;
                if (char.mainAction) charDesc += `, sedang ${char.mainAction.toLowerCase()}`;
                if (char.emotion) charDesc += `. Emosi: ${char.emotion.toLowerCase()}`;
                idPromptParts.push(charDesc.trim());
            });
        }

        // Setting
        let settingDesc = [];
        if (location) settingDesc.push(`Lokasi: "${location}"`);
        if (locationAtmosphere) settingDesc.push(`suasana ${locationAtmosphere.toLowerCase()}`);
        if (timeOfDay) settingDesc.push(`Waktu: ${timeOfDay.toLowerCase()}`);
        if (weather) settingDesc.push(`Cuaca: ${weather.toLowerCase()}`);
        if (season) settingDesc.push(`Musim: ${season.toLowerCase()}`);
        if (settingDesc.length > 0) {
            idPromptParts.push(`Setting: ${settingDesc.join(', ')}.`);
        }

        // Camera
        let cameraDesc = [];
        if (cameraStyle) cameraDesc.push(`Gaya kamera: ${cameraStyle.toLowerCase()}`);
        if (cameraMovement) cameraDesc.push(`Pergerakan kamera: ${cameraMovement.toLowerCase()}`);
        if (cameraAngle) cameraDesc.push(`Sudut kamera: ${cameraAngle.toLowerCase()}`);
        if (focus) cameraDesc.push(`Fokus: ${focus.toLowerCase()}`);
        if (lighting) cameraDesc.push(`Pencahayaan: ${lighting.toLowerCase()}`);
        if (colorGrading) cameraDesc.push(`Gradasi warna: ${colorGrading.toLowerCase()}`);
        if (cameraDesc.length > 0) {
            idPromptParts.push(`Kamera: ${cameraDesc.join(', ')}.`);
        }

        // Audio
        let audioDesc = [];
        if (dialogueType) audioDesc.push(`Dialog: ${dialogueType.toLowerCase()}`);

        const actualSpeakingChars = characters.filter(char => char.dialogue && char.dialogue.trim() !== '');

        if (dialogueType !== 'Tanpa dialog' && actualSpeakingChars.length > 0) {
            audioDesc.push(`Karakter yang berdialog: ${actualSpeakingChars.map(c => c.name || `Karakter ${characters.indexOf(c) + 1}`).join(', ')}.`);
            actualSpeakingChars.forEach(char => {
                audioDesc.push(`"${char.name || `Karakter ${characters.indexOf(c) + 1}`}": "${char.dialogue}"`);
            });
        }
        if (voiceMood) audioDesc.push(`Mood suara: ${voiceMood.toLowerCase()}`);
        if (environmentalSound) audioDesc.push(`Suara lingkungan: "${environmentalSound}"`);
        if (backgroundMusic) audioDesc.push(`Musik latar: "${backgroundMusic}"`);
        if (audioDesc.length > 0) {
            idPromptParts.push(`Audio: ${audioDesc.join('. ')}.`);
        }


        // Quality & Duration
        let qualityDesc = [];
        if (videoQuality) qualityDesc.push(`Kualitas video: ${videoQuality}`);
        if (videoDuration) qualityDesc.push(`Durasi: ${videoDuration}`);
        if (videoRatio) qualityDesc.push(`Rasio video: ${videoRatio}`);
        if (qualityDesc.length > 0) {
            idPromptParts.push(`Kualitas & Durasi: ${qualityDesc.join(', ')}.`);
        }

        setIndonesianPrompt(idPromptParts.join('\n\n'));

        // --- English Prompt Construction ---
        let enPromptParts = [];
        if (logline) enPromptParts.push(`Video about "${logline}".`);
        if (currentOverallMoods.length > 0) enPromptParts.push(`Overall mood: ${currentOverallMoods.map(m => translateOption(m).toLowerCase()).join(', ')}.`);

        // Characters
        if (characters.length > 0) {
            characters.forEach(char => {
                let charDesc = `Character: `;
                if (char.name) charDesc += `"${char.name}"`;
                if (char.nationality) charDesc += `, ${char.nationality}`;
                if (char.characteristics) charDesc += `, ${char.characteristics}`;
                if (char.mainAction) charDesc += `, is ${char.mainAction.toLowerCase()}`;
                if (char.emotion) charDesc += `. Emotion: ${char.emotion.toLowerCase()}`;
                enPromptParts.push(charDesc.trim());
            });
        }

        // Setting
        let enSettingDesc = [];
        if (location) enSettingDesc.push(`Location: "${location}"`);
        if (locationAtmosphere) enSettingDesc.push(`atmosphere: ${locationAtmosphere.toLowerCase()}`);
        if (timeOfDay) enSettingDesc.push(`Time: ${translateOption(timeOfDay).toLowerCase()}`);
        if (weather) enSettingDesc.push(`Weather: ${translateOption(weather).toLowerCase()}`);
        if (season) enSettingDesc.push(`Season: ${translateOption(season).toLowerCase()}`);
        if (enSettingDesc.length > 0) {
            enPromptParts.push(`Setting: ${enSettingDesc.join(', ')}.`);
        }

        // Camera
        let enCameraDesc = [];
        if (cameraStyle) enCameraDesc.push(`Camera style: ${translateOption(cameraStyle).toLowerCase()}`);
        if (cameraMovement) enCameraDesc.push(`Camera movement: ${translateOption(cameraMovement).toLowerCase()}`);
        if (cameraAngle) enCameraDesc.push(`Camera angle: ${translateOption(cameraAngle).toLowerCase()}`);
        if (focus) enCameraDesc.push(`Focus: ${translateOption(focus).toLowerCase()}`);
        if (lighting) enCameraDesc.push(`Lighting: ${translateOption(lighting).toLowerCase()}`);
        if (colorGrading) enCameraDesc.push(`Color grading: ${translateOption(colorGrading).toLowerCase()}`);
        if (enCameraDesc.length > 0) {
            enPromptParts.push(`Camera: ${enCameraDesc.join(', ')}.`);
        }

        // Audio
        let enAudioDesc = [];
        if (dialogueType) enAudioDesc.push(`Dialogue: ${translateOption(dialogueType).toLowerCase()}`);
        if (dialogueType !== 'Tanpa dialog' && actualSpeakingChars.length > 0) {
            enAudioDesc.push(`Characters speaking: ${actualSpeakingChars.map(c => c.name || `Character ${characters.indexOf(c) + 1}`).join(', ')}.`);
            actualSpeakingChars.forEach(char => {
                enAudioDesc.push(`"${char.name || `Character ${characters.indexOf(c) + 1}`}": "${char.dialogue}"`);
            });
        }
        if (voiceMood) enAudioDesc.push(`Voice mood: ${translateOption(voiceMood).toLowerCase()}`);
        if (environmentalSound) enAudioDesc.push(`Environmental sound: "${environmentalSound}"`);
        if (backgroundMusic) enAudioDesc.push(`Background music: "${backgroundMusic}"`);
        if (enAudioDesc.length > 0) {
            enPromptParts.push(`Audio: ${enAudioDesc.join('. ')}.`);
        }

        // Quality & Duration
        let enQualityDesc = [];
        if (videoQuality) enQualityDesc.push(`Video quality: ${translateOption(videoQuality).toLowerCase()}`);
        if (videoDuration) enQualityDesc.push(`Duration: ${translateOption(videoDuration).toLowerCase()}`);
        if (videoRatio) enQualityDesc.push(`Video ratio: ${translateOption(videoRatio).toLowerCase()}`);
        if (enQualityDesc.length > 0) {
            enPromptParts.push(`Quality & Duration: ${enQualityDesc.join(', ')}.`);
        }

        setEnglishPrompt(enPromptParts.join('\n\n'));
    };


    // Component rendering
    return (
        <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black text-white font-inter p-4 sm:p-8 flex items-center justify-center">
            <div className="bg-gray-800 bg-opacity-70 backdrop-blur-sm rounded-xl shadow-2xl p-6 sm:p-10 w-full max-w-4xl border border-gray-700">
                <h1 className="text-3xl sm:text-4xl font-extrabold text-center text-purple-300 mb-2 drop-shadow-lg">
                    Generator Prompt Video Veo 3
                </h1>
                <p className="text-center text-blue-400 text-sm italic font-light mb-6">aplikasi by <strong className="font-bold">OMTE</strong></p> {/* Changed to text-blue-400 */}
                <p className="text-center text-gray-300 mb-8">
                    Isi detail di bawah untuk menghasilkan prompt video yang kreatif untuk Veo 3.
                </p>

                {/* DETAIL CERITA */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">DETAIL CERITA</h2>
                    <div className="mb-4">
                        <label htmlFor="logline" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white for brighter text */}
                            Logline Singkat
                        </label>
                        <input
                            type="text"
                            id="logline"
                            value={logline}
                            onChange={(e) => setLogline(e.target.value)}
                            placeholder="Contoh: Seorang penyedia jasa doa di pinggir jalan mendapat klien yang ingin MENITIP DOA"
                            className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                        />
                    </div>
                    <div className="mb-4">
                        <label className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white for brighter text */}
                            Mood Keseluruhan
                        </label>
                        <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2">
                            {overallMoodOptions.map(mood => (
                                <div key={mood} className="flex items-center">
                                    <input
                                        type="checkbox"
                                        id={`mood-${mood}`}
                                        checked={overallMood.includes(mood)}
                                        onChange={() => handleOverallMoodChange(mood)}
                                        className="form-checkbox h-4 w-4 text-purple-600 rounded border-gray-400 focus:ring-purple-500 bg-gray-600"
                                    />
                                    <label htmlFor={`mood-${mood}`} className="ml-2 text-white text-sm">
                                        {mood}
                                    </label>
                                </div>
                            ))}
                            {overallMood.includes('Lainnya') && ( // Only show if 'Lainnya' is checked
                                <div className="col-span-full mt-2">
                                    <input
                                        type="text"
                                        value={customOverallMood}
                                        onChange={(e) => setCustomOverallMood(e.target.value)}
                                        placeholder="Masukkan mood kustom Anda"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                            )}
                        </div>
                    </div>
                </div>

                {/* KARAKTER */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">KARAKTER</h2>
                    {characters.map((char, index) => (
                        <div key={index} className="mb-6 p-4 border border-gray-600 rounded-lg bg-gray-700">
                            <h3 className="text-xl font-semibold text-white mb-3">Karakter {index + 1}</h3> {/* Changed to text-white */}
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-white text-sm font-medium mb-1">Nama Karakter</label> {/* Changed to text-white */}
                                    <input
                                        type="text"
                                        value={char.name}
                                        onChange={(e) => handleCharacterChange(index, 'name', e.target.value)}
                                        placeholder="Contoh: Joni"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                                <div>
                                    <label className="block text-white text-sm font-medium mb-1">Kewarganegaraan</label> {/* Changed to text-white */}
                                    <input
                                        type="text"
                                        value={char.nationality}
                                        onChange={(e) => handleCharacterChange(index, 'nationality', e.target.value)}
                                        placeholder="Contoh: Indonesia"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                                <div className="md:col-span-2">
                                    <label className="block text-white text-sm font-medium mb-1">Karakteristik Subjek</label> {/* Changed to text-white */}
                                    <input
                                        type="text"
                                        value={char.characteristics}
                                        onChange={(e) => handleCharacterChange(index, 'characteristics', e.target.value)}
                                        placeholder="Contoh: Pria 35 tahun, kulit gelap, pakai kaos abu-abu dan tas ransel"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                                <div className="md:col-span-2">
                                    <label className="block text-white text-sm font-medium mb-1">Aksi Utama</label> {/* Changed to text-white */}
                                    <input
                                        type="text"
                                        value={char.mainAction}
                                        onChange={(e) => handleCharacterChange(index, 'mainAction', e.target.value)}
                                        placeholder="Contoh: pegang papan bertuliskan 'JASA MENDOAKAN'"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                                <div>
                                    <label className="block text-white text-sm font-medium mb-1">Emosi</label> {/* Changed to text-white */}
                                    <input
                                        type="text"
                                        value={char.emotion}
                                        onChange={(e) => handleCharacterChange(index, 'emotion', e.target.value)}
                                        placeholder="Contoh: Bingung, Ceria, Marah"
                                        className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                    />
                                </div>
                            </div>
                            {characters.length > 1 && (
                                <button
                                    onClick={() => removeCharacter(index)}
                                    className="mt-4 bg-red-600 hover:bg-red-700 text-white text-sm py-2 px-4 rounded-full transition duration-200"
                                >
                                    Hapus Karakter
                                </button>
                            )}
                        </div>
                    ))}
                    <button
                        onClick={addCharacter}
                        className="mt-4 bg-green-600 hover:bg-green-700 text-white text-sm py-2 px-4 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105"
                    >
                        Tambah Karakter
                    </button>
                </div>

                {/* SETTING LOKASI & WAKTU */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">SETTING LOKASI & WAKTU</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label htmlFor="location" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Lokasi
                            </label>
                            <input
                                type="text"
                                id="location"
                                value={location}
                                onChange={(e) => setLocation(e.target.value)}
                                placeholder="Contoh: pinggir jalan kota ramai"
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                            />
                        </div>
                        <div>
                            <label htmlFor="locationAtmosphere" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Suasana Lokasi
                            </label>
                            <input
                                type="text"
                                id="locationAtmosphere"
                                value={locationAtmosphere}
                                onChange={(e) => setLocationAtmosphere(e.target.value)}
                                placeholder="Contoh: Ramai, santai, suasana jalanan khas kota kecil Indonesia"
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                            />
                        </div>
                        <div>
                            <label htmlFor="timeOfDay" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Waktu
                            </label>
                            <select
                                id="timeOfDay"
                                value={timeOfDay}
                                onChange={(e) => setTimeOfDay(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Waktu</option>
                                {timeOfDayOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="weather" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Cuaca
                            </label>
                            <select
                                id="weather"
                                value={weather}
                                onChange={(e) => setWeather(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Cuaca</option>
                                {weatherOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div className="md:col-span-2">
                            <label htmlFor="season" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Musim
                            </label>
                            <select
                                id="season"
                                value={season}
                                onChange={(e) => setSeason(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Musim</option>
                                {seasonOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                    </div>
                </div>

                {/* KAMERA */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">KAMERA</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label htmlFor="cameraStyle" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Gaya Kamera
                            </label>
                            <select
                                id="cameraStyle"
                                value={cameraStyle}
                                onChange={(e) => setCameraStyle(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Gaya</option>
                                {cameraStyleOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="cameraMovement" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Pergerakan Kamera
                            </label>
                            <select
                                id="cameraMovement"
                                value={cameraMovement}
                                onChange={(e) => setCameraMovement(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Pergerakan</option>
                                {cameraMovementOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="cameraAngle" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Sudut Kamera
                            </label>
                            <select
                                id="cameraAngle"
                                value={cameraAngle}
                                onChange={(e) => setCameraAngle(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Sudut</option>
                                {cameraAngleOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="focus" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Fokus
                            </label>
                            <select
                                id="focus"
                                value={focus}
                                onChange={(e) => setFocus(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Fokus</option>
                                {focusOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="lighting" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Pencahayaan
                            </label>
                            <select
                                id="lighting"
                                value={lighting}
                                onChange={(e) => setLighting(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Pencahayaan</option>
                                {lightingOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="colorGrading" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Gradasi Warna
                            </label>
                            <select
                                id="colorGrading"
                                value={colorGrading}
                                onChange={(e) => setColorGrading(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Gradasi Warna</option>
                                {colorGradingOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                    </div>
                </div>

                {/* AUDIO */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">AUDIO</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label htmlFor="dialogueType" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Dialog
                            </label>
                            <select
                                id="dialogueType"
                                value={dialogueType}
                                onChange={(e) => setDialogueType(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Tipe Dialog</option>
                                {dialogueTypeOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="voiceMood" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Mood Suara
                            </label>
                            <select
                                id="voiceMood"
                                value={voiceMood}
                                onChange={(e) => setVoiceMood(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Mood Suara</option>
                                {voiceMoodOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>

                        {/* Dialogue input fields per character - moved here */}
                        {dialogueType !== 'Tanpa dialog' && characters.length > 0 && (
                            <div className="md:col-span-2 mt-4">
                                <h3 className="text-lg font-semibold text-white mb-2">Isi Dialog per Karakter:</h3> {/* Changed to text-white */}
                                {characters.map((char, index) => (
                                    <div key={index} className="mb-3">
                                        <label htmlFor={`dialogue-${index}`} className="block text-white text-sm font-medium mb-1"> {/* Changed to text-white */}
                                            Dialog untuk "{char.name || `Karakter ${index + 1}`}"
                                        </label>
                                        <textarea
                                            id={`dialogue-${index}`}
                                            value={char.dialogue}
                                            onChange={(e) => handleCharacterChange(index, 'dialogue', e.target.value)}
                                            placeholder={`Contoh dialog untuk ${char.name || `Karakter ${index + 1}`}`}
                                            rows="2"
                                            className="w-full p-2 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                                        />
                                    </div>
                                ))}
                            </div>
                        )}

                        <div className="md:col-span-2">
                            <label htmlFor="environmentalSound" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Suara Lingkungan
                            </label>
                            <input
                                type="text"
                                id="environmentalSound"
                                value={environmentalSound}
                                onChange={(e) => setEnvironmentalSound(e.target.value)}
                                placeholder="Contoh: Suara klakson mobil, kicauan burung"
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                            />
                        </div>
                        <div className="md:col-span-2">
                            <label htmlFor="backgroundMusic" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Background Music
                            </label>
                            <input
                                type="text"
                                id="backgroundMusic"
                                value={backgroundMusic}
                                onChange={(e) => setBackgroundMusic(e.target.value)}
                                placeholder="Contoh: Musik latar ceria, melankolis, dubstep"
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 placeholder-gray-400 text-white"
                            />
                        </div>
                    </div>
                </div>

                {/* KUALITAS VIDEO & DURASI */}
                <div className="mb-8 p-6 bg-gray-700 rounded-lg border border-gray-600">
                    <h2 className="text-2xl font-bold text-purple-300 mb-4">KUALITAS VIDEO & DURASI</h2>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label htmlFor="videoQuality" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Kualitas Video
                            </label>
                            <select
                                id="videoQuality"
                                value={videoQuality}
                                onChange={(e) => setVideoQuality(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Kualitas</option>
                                {videoQualityOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="videoDuration" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                Durasi Video
                            </label>
                            <select
                                id="videoDuration"
                                value={videoDuration}
                                onChange={(e) => setVideoDuration(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Durasi</option>
                                {videoDurationOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label htmlFor="videoRatio" className="block text-white text-sm font-medium mb-2"> {/* Changed to text-white */}
                                RASIO VIDEO
                            </label>
                            <select
                                id="videoRatio"
                                value={videoRatio}
                                onChange={(e) => setVideoRatio(e.target.value)}
                                className="w-full p-3 bg-gray-600 rounded-lg border border-gray-500 focus:ring-2 focus:ring-purple-500 text-white"
                            >
                                <option value="">Pilih Rasio</option>
                                {videoRatioOptions.map(option => (
                                    <option key={option} value={option}>{option}</option>
                                ))}
                            </select>
                        </div>
                    </div>
                </div>

                {/* Generate Button */}
                <div className="text-center mb-8">
                    <button
                        onClick={generatePrompt}
                        className="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-75"
                    >
                        Buat Prompt
                    </button>
                </div>

                {/* Generated Prompts Display */}
                {(indonesianPrompt || englishPrompt) && (
                    <div className="bg-gray-700 p-6 rounded-lg border border-gray-600 shadow-inner">
                        <h2 className="text-xl sm:text-2xl font-bold text-purple-300 mb-4">
                            Hasil Prompt:
                        </h2>

                        {indonesianPrompt && (
                            <div className="mb-4">
                                <h3 className="text-lg font-semibold text-white mb-2"> {/* Changed to text-white */}
                                    Bahasa Indonesia:
                                </h3>
                                <div className="bg-gray-600 p-4 rounded-md border border-gray-500 text-white whitespace-pre-wrap">
                                    {indonesianPrompt}
                                </div>
                                <button
                                    onClick={() => {
                                        navigator.clipboard.writeText(indonesianPrompt).then(() => {
                                            console.log('Indonesian prompt copied!');
                                        }).catch(err => {
                                            console.error('Failed to copy text: ', err);
                                            const textArea = document.createElement("textarea");
                                            textArea.value = indonesianPrompt;
                                            document.body.appendChild(textArea);
                                            textArea.focus();
                                            textArea.select();
                                            try {
                                                document.execCommand('copy');
                                            } catch (err) {
                                                console.error('Fallback: Oops, unable to copy', err);
                                            }
                                            document.body.removeChild(textArea);
                                        });
                                    }}
                                    className="mt-2 bg-purple-500 hover:bg-purple-600 text-white text-sm py-1 px-3 rounded-full transition duration-200"
                                >
                                    Salin
                                </button>
                            </div>
                        )}

                        {englishPrompt && (
                            <div>
                                <h3 className="text-lg font-semibold text-white mb-2"> {/* Changed to text-white */}
                                    English:
                                </h3>
                                <div className="bg-gray-600 p-4 rounded-md border border-gray-500 text-white whitespace-pre-wrap">
                                    {englishPrompt}
                                </div>
                                <button
                                    onClick={() => {
                                        navigator.clipboard.writeText(englishPrompt).then(() => {
                                            console.log('English prompt copied!');
                                        }).catch(err => {
                                            console.error('Failed to copy text: ', err);
                                            const textArea = document.createElement("textarea");
                                            textArea.value = englishPrompt;
                                            document.body.appendChild(textArea);
                                            textArea.focus();
                                            textArea.select();
                                            try {
                                                document.execCommand('copy');
                                            } catch (err) {
                                                console.error('Fallback: Oops, unable to copy', err);
                                            }
                                            document.body.removeChild(textArea);
                                        });
                                    }}
                                    className="mt-2 bg-purple-500 hover:bg-purple-600 text-white text-sm py-1 px-3 rounded-full transition duration-200"
                                >
                                    Copy
                                </button>
                            </div>
                        )}
                    </div>
                )}
            </div>
        </div>
    );
};

export default App;
