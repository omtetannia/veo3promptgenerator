<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veo 3 Prompt Generator</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #000000; /* Black background */
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 2rem 1rem;
            color: #f3f4f6; /* Light gray text for general body */
        }
        .container {
            background-color: #1f2937; /* Darker gray for container */
            padding: 2.5rem;
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3); /* Darker shadow for contrast */
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .section-header {
            font-size: 1.75rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            color: #e5e7eb; /* Lightest gray for section headers */
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #4b5563; /* Subtle divider */
        }
        .input-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
            color: #d1d5db; /* Lighter gray for labels */
        }
        .input-group input[type="text"],
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #4b5563; /* Darker gray border */
            border-radius: 0.75rem; /* Rounded input fields */
            font-size: 1rem;
            color: #e5e7eb; /* Light text for input fields */
            background-color: #374151; /* Dark background for inputs */
            transition: all 0.2s ease-in-out;
            appearance: none; /* Remove default select arrow */
            -webkit-appearance: none;
            -moz-appearance: none;
        }
        .input-group select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='%23d1d5db' class='w-5 h-5'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19.5 8.25l-7.5 7.5-7.5-7.5' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .input-group input[type="text"]:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            outline: none;
            border-color: #6366f1; /* Purple focus border */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.4); /* Purple shadow on focus */
        }
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
            align-items: center; /* Align items vertically */
        }
        .checkbox-group label {
            display: flex;
            align-items: center;
            color: #d1d5db;
            font-weight: normal;
        }
        .checkbox-group input[type="checkbox"] {
            margin-right: 0.5rem;
            width: auto; /* Override full width for checkboxes */
            height: auto;
            accent-color: #6366f1; /* Purple accent for checkboxes */
        }
        .other-mood-input {
            width: auto; /* Allow input to size naturally */
            flex-grow: 1; /* Allow it to take available space */
            margin-left: 0.5rem; /* Spacing from checkbox */
        }

        .btn-primary {
            background-color: #6366f1; /* Purple button */
            color: white;
            padding: 0.85rem 1.75rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); /* Slightly darker shadow */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .btn-primary:hover {
            background-color: #4f46e5; /* Darker purple on hover */
            transform: translateY(-1px);
        }
        .btn-primary:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .btn-secondary {
            background-color: #4b5563; /* Dark gray for secondary buttons */
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }
        .btn-secondary:hover {
            background-color: #6b7280; /* Lighter gray on hover */
        }
        .character-entry, .dialogue-entry {
            background-color: #2a3547; /* Slightly lighter dark gray for entries */
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #4b5563;
            position: relative;
        }
        .character-entry .remove-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: #ef4444; /* Red for remove button */
            color: white;
            border-radius: 9999px; /* Fully rounded */
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .character-entry .remove-btn:hover {
            background-color: #dc2626; /* Darker red on hover */
        }

        .prompt-output {
            background-color: #374151; /* Darker background for output area */
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid #4b5563; /* Darker border */
            word-break: break-word; /* Ensure long prompts wrap */
            position: relative;
        }
        .prompt-output h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #f3f4f6; /* Light text for headings */
            margin-bottom: 0.75rem;
        }
        .prompt-output p {
            font-family: monospace; /* Monospace font for prompts */
            background-color: #4338ca; /* Darker purple background for prompt text */
            color: #e0e7ff; /* Lighter blue text */
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap; /* Preserve whitespace and wrap text */
            word-break: break-all; /* Break words to prevent overflow */
        }
        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: #a78bfa; /* Lighter purple for copy button */
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            opacity: 0; /* Hidden by default */
            visibility: hidden;
        }
        .prompt-output:hover .copy-btn {
            opacity: 1; /* Show on hover */
            visibility: visible;
        }
        .copy-btn:hover {
            background-color: #8b5cf6; /* Darker purple on hover */
        }
        .copy-btn.copied {
            background-color: #10b981; /* Green when copied */
        }
        .copy-btn.copied::after {
            content: ' (Disalin!)';
            font-size: 0.75rem;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
            }
            .section-header {
                font-size: 1.5rem;
            }
            .btn-primary {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }
            .prompt-output {
                padding: 1rem;
            }
            .prompt-output h3 {
                font-size: 1.1rem;
            }
            .prompt-output p {
                padding: 0.75rem;
            }
            .copy-btn {
                padding: 0.4rem 0.6rem;
                font-size: 0.75rem;
                top: 0.75rem;
                right: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-extrabold text-center mb-2" style="color: #f3f4f6;">Veo 3 Prompt Generator</h1>
        <!-- Aplikasi By OMTE text moved here -->
        <div class="text-center text-sm mb-6">
            Aplikasi By <span class="font-bold text-blue-400">OMTE</span>
        </div>

        <!-- PENGATURAN VIDEO UMUM -->
        <div class="section">
            <h2 class="section-header">PENGATURAN VIDEO UMUM (GENERAL VIDEO SETTINGS)</h2>
            <div class="input-group">
                <label for="videoTypeStyle">Tipe Video/Gaya Visual (Video Type/Visual Style):</label>
                <select id="videoTypeStyle">
                    <option value="">Pilih Tipe / Gaya Visual</option>
                    <option value="Film Dokumenter">Film Dokumenter (Documentary Film)</option>
                    <option value="Video Musik">Video Musik (Music Video)</option>
                    <option value="Animasi Pendek">Animasi Pendek (Short Animation)</option>
                    <option value="Iklan Produk">Iklan Produk (Product Advertisement)</option>
                    <option value="Vlog Perjalanan">Vlog Perjalanan (Travel Vlog)</option>
                    <option value="Video Tutorial">Video Tutorial (Tutorial Video)</option>
                    <option value="Cinematic" selected>Cinematic</option>
                    <option value="Stop Motion">Stop Motion</option>
                    <option value="Black and White">Black and White</option>
                    <option value="Vintage Film Look">Vintage Film Look</option>
                </select>
            </div>
        </div>

        <!-- DETAIL CERITA -->
        <div class="section">
            <h2 class="section-header">DETAIL CERITA (STORY DETAILS)</h2>
            <div class="input-group mb-4">
                <label for="logline">Logline Singkat (Short Logline):</label>
                <input type="text" id="logline" placeholder="Contoh: Seorang penyedia jasa doa di pinggir jalan mendapat klien yang ingin MENITIP DOA">
            </div>
            <div class="input-group">
                <label>Mood Keseluruhan (Overall Mood):</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="mood" value="Lucu"> Lucu (Funny)</label>
                    <label><input type="checkbox" name="mood" value="Absurd"> Absurd</label>
                    <label><input type="checkbox" name="mood" value="Ringan"> Ringan (Lighthearted)</label>
                    <label><input type="checkbox" name="mood" value="Dramatis"> Dramatis (Dramatic)</label>
                    <label><input type="checkbox" name="mood" value="Misterius"> Misterius (Mysterious)</label>
                    <label><input type="checkbox" name="mood" value="Menegangkan"> Menegangkan (Suspenseful)</label>
                    <label><input type="checkbox" name="mood" value="Informatif"> Informatif (Informative)</label>
                    <label>
                        <input type="checkbox" id="otherMoodCheckbox"> Lainnya (Other)
                        <input type="text" id="otherMoodInput" class="other-mood-input hidden" placeholder="Masukkan mood kustom...">
                    </label>
                </div>
            </div>
        </div>

        <!-- KARAKTER -->
        <div class="section">
            <h2 class="section-header">KARAKTER (CHARACTERS)</h2>
            <div id="charactersContainer">
                <!-- Character entries will be added here by JS -->
            </div>
            <button id="addCharacterBtn" class="btn-secondary mt-4">Tambah Karakter (Add Character)</button>
        </div>

        <!-- SETTING LOKASI & WAKTU -->
        <div class="section">
            <h2 class="section-header">SETTING LOKASI & WAKTU (LOCATION & TIME SETTING)</h2>
            <div class="input-group mb-4">
                <label for="location">Lokasi (Location):</label>
                <input type="text" id="location" placeholder="Contoh: pinggir jalan kota ramai">
            </div>
            <div class="input-group mb-4">
                <label for="atmosphere">Suasana (Atmosphere):</label>
                <input type="text" id="atmosphere" placeholder="Contoh: Ramai, santai, suasana jalanan khas kota kecil Indonesia">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="input-group">
                    <label for="time">Waktu (Time):</label>
                    <select id="time">
                        <option value="">Pilih Waktu / Select Time</option>
                        <option value="Pagi hari">Pagi hari (Morning)</option>
                        <option value="Siang hari">Siang hari (Daytime)</option>
                        <option value="Sore hari">Sore hari (Afternoon)</option>
                        <option value="Malam hari">Malam hari (Night)</option>
                        <option value="Fajar">Fajar (Dawn)</option>
                        <option value="Senja">Senja (Dusk)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="weather">Cuaca (Weather):</label>
                    <select id="weather">
                        <option value="">Pilih Cuaca / Select Weather</option>
                        <option value="Cerah">Cerah (Clear)</option>
                        <option value="Berawan">Berawan (Cloudy)</option>
                        <option value="Hujan">Hujan (Rainy)</option>
                        <option value="Salju">Salju (Snowy)</option>
                        <option value="Badai">Badai (Stormy)</option>
                        <option value="Berkabut">Berkabut (Foggy)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="season">Musim (Season):</label>
                    <select id="season">
                        <option value="">Pilih Musim / Select Season</option>
                        <option value="Musim Semi">Musim Semi (Spring)</option>
                        <option value="Musim Panas">Musim Panas (Summer)</option>
                        <option value="Musim Gugur">Musim Gugur (Autumn/Fall)</option>
                        <option value="Musim Dingin">Musim Dingin (Winter)</option>
                        <option value="Musim Hujan">Musim Hujan (Rainy Season)</option>
                        <option value="Musim Kemarau">Musim Kemarau (Dry Season)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- KAMERA -->
        <div class="section">
            <h2 class="section-header">KAMERA (CAMERA)</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="input-group">
                    <label for="cameraStyle">Gaya (Style):</label>
                    <select id="cameraStyle">
                        <option value="">Pilih Gaya / Select Style</option>
                        <option value="Fotorealistik">Fotorealistik (Photorealistic)</option>
                        <option value="Animasi 3D">Animasi 3D (3D Animation)</option>
                        <option value="Seni Piksel">Seni Piksel (Pixel Art)</option>
                        <option value="Cat Air">Cat Air (Watercolor)</option>
                        <option value="Sketsa">Sketsa (Sketch)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="cameraMovement">Pergerakan Kamera (Camera Movement):</label>
                    <select id="cameraMovement">
                        <option value="">Pilih Pergerakan / Select Movement</option>
                        <option value="Tetap">Tetap (Static)</option>
                        <option value="Panning">Panning</option>
                        <option value="Tilting">Tilting</option>
                        <option value="Zoom In">Zoom In</option>
                        <option value="Zoom Out">Zoom Out</option>
                        <option value="Dolly">Dolly (Tracking Shot)</option>
                        <option value="Crane">Crane (Boom Shot)</option>
                        <option value="Handheld">Handheld</option>
                        <option value="Stabilizer">Stabilizer (Smooth tracking)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="cameraAngle">Sudut Kamera (Camera Angle):</label>
                    <select id="cameraAngle">
                        <option value="">Pilih Sudut / Select Angle</option>
                        <option value="Mata Elang (Extreme High Angle)">Mata Elang (Extreme High Angle)</option>
                        <option value="Sudut Tinggi (High Angle)">Sudut Tinggi (High Angle)</option>
                        <option value="Setinggi Mata (Eye Level)">Setinggi Mata (Eye Level)</option>
                        <option value="Sudut Rendah (Low Angle)">Sudut Rendah (Low Angle)</option>
                        <option value="Sudut Kodok (Worm's Eye View)">Sudut Kodok (Worm's Eye View)</option>
                        <option value="Belanda (Dutch Angle)">Belanda (Dutch Angle)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="cameraFocus">Fokus (Focus):</label>
                    <select id="cameraFocus">
                        <option value="">Pilih Fokus / Select Focus</option>
                        <option value="Tajam (Sharp)">Tajam (Sharp)</option>
                        <option value="Lembut (Soft Focus)">Lembut (Soft Focus)</option>
                        <option value="Kedalaman Dangkal (Shallow Depth of Field)">Kedalaman Dangkal (Shallow Depth of Field)</option>
                        <option value="Kedalaman Dalam (Deep Depth of Field)">Kedalaman Dalam (Deep Depth of Field)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="lighting">Pencahayaan (Lighting):</label>
                    <select id="lighting">
                        <option value="">Pilih Pencahayaan / Select Lighting</option>
                        <option value="Alami">Alami (Natural)</option>
                        <option value="Studio">Studio</option>
                        <option value="Dramatis">Dramatis (Dramatic)</option>
                        <option value="Siluet">Siluet (Silhouette)</option>
                        <option value="Cahaya Kunci (Key Light)">Cahaya Kunci (Key Light)</option>
                        <option value="Cahaya Pengisi (Fill Light)">Cahaya Pengisi (Fill Light)</option>
                        <option value="Backlight">Backlight</option>
                        <option value="Cahaya Neon">Cahaya Neon (Neon Light)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="colorGrading">Gradasi Warna (Color Grading):</label>
                    <select id="colorGrading">
                        <option value="">Pilih Gradasi Warna / Select Color Grading</option>
                        <option value="Hangat">Hangat (Warm)</option>
                        <option value="Dingin">Dingin (Cool)</option>
                        <option value="Cerah">Cerah (Bright)</option>
                        <option value="Gelap">Gelap (Dark)</option>
                        <option value="Monokrom">Monokrom (Monochrome)</option>
                        <option value="Pastel">Pastel</option>
                        <option value="Vibran">Vibran (Vibrant)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- AUDIO -->
        <div class="section">
            <h2 class="section-header">AUDIO</h2>
            <div class="input-group mb-4">
                <label for="dialogueType">Dialog (Dialogue):</label>
                <select id="dialogueType">
                    <option value="">Pilih Jenis Dialog / Select Dialogue Type</option>
                    <option value="Tanpa dialog">Tanpa dialog (No dialogue)</option>
                    <option value="Informatif">Informatif (Informative)</option>
                    <option value="Natural dialog">Dialog Natural (Natural dialogue)</option>
                    <option value="Monolog">Monolog (Monologue)</option>
                    <option value="Interview">Wawancara (Interview)</option>
                </select>
            </div>
            <div id="dialogueContentContainer">
                <!-- Dialogue inputs per character will be added here by JS -->
            </div>
            <div class="input-group mb-4">
                <label for="voiceMood">Mood Suara (Voice Mood):</label>
                <input type="text" id="voiceMood" placeholder="Contoh: Happy, Sad, Cheerful, Marah, Gugup, Tenang">
            </div>
            <div class="input-group mb-4">
                <label for="environmentalSound">Suara Lingkungan (Environmental Sound):</label>
                <input type="text" id="environmentalSound" placeholder="Contoh: Suara kota, Alam, Lautan, Hutan, Kesibukan kantor">
            </div>
            <div class="input-group">
                <label for="backgroundMusic">Musik Latar (Background Music):</label>
                <input type="text" id="backgroundMusic" placeholder="Contoh: Musik orkestra dramatis, Melodi piano menenangkan, Beat EDM energik">
            </div>
        </div>

        <!-- KUALITAS VIDEO & DURASI -->
        <div class="section">
            <h2 class="section-header">KUALITAS VIDEO & DURASI (VIDEO QUALITY & DURATION)</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="input-group">
                    <label for="videoQuality">Kualitas Video (Video Quality):</label>
                    <select id="videoQuality">
                        <option value="">Pilih Kualitas / Select Quality</option>
                        <option value="4K UHD">4K UHD</option>
                        <option value="Full HD (1080p)">Full HD (1080p)</option>
                        <option value="HD (720p)">HD (720p)</option>
                        <option value="SD">SD</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="videoDuration">Durasi Video (Video Duration):</label>
                    <select id="videoDuration">
                        <option value="">Pilih Durasi / Select Duration</option>
                        <option value="8 Detik">8 Detik (8 Seconds)</option>
                        <option value="7 Detik">7 Detik (7 Seconds)</option>
                        <option value="6 Detik">6 Detik (6 Seconds)</option>
                        <option value="5 Detik">5 Detik (5 Seconds)</option>
                        <option value="4 Detik">4 Detik (4 Seconds)</option>
                        <option value="3 Detik">3 Detik (3 Seconds)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="videoRatio">RASIO VIDEO (VIDEO RATIO):</label>
                    <select id="videoRatio">
                        <option value="">Pilih Rasio / Select Ratio</option>
                        <option value="LANDSCAPE 16:9">LANDSCAPE 16:9</option>
                        <option value="PORTRAIT 9:16">PORTRAIT 9:16</option>
                        <option value="SQUARE 1:1">SQUARE 1:1</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- DETAIL TAMBAHAN -->
        <div class="section">
            <h2 class="section-header">DETAIL TAMBAHAN (ADDITIONAL DETAILS)</h2>
            <div class="input-group">
                <label for="additionalDetails">Detail Tambahan (Additional Details):</label>
                <textarea id="additionalDetails" rows="3" placeholder="Contoh: Efek asap, Bunga bermekaran, Musik yang menenangkan, Hujan deras"></textarea>
            </div>
        </div>

        <button id="generateBtn" class="btn-primary mt-6">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles"><path d="M9.9 10.8c.2.5.5.9.9 1.2s.7.6 1.2.9c.4.2.8.5 1.2.9s.6.7.9 1.2c.2.4.5.8.9 1.2s.7.6 1.2.9c.4.2.8.5 1.2.9s.6.7.9 1.2"/><path d="M17.7 21.6c.2.5.5.9.9 1.2s.7.6 1.2.9c.4.2.8.5 1.2.9s.6.7.9 1.2"/><path d="M22 6s-2 2-3 3c-1 1-3 2-3 2s2-2 3-3c1-1 3-2 3-2"/><path d="M3 10s2 2 3 3c1 1 3 2 3 2s-2-2-3-3c-1-1-3-2-3-2"/><path d="M13.7 1.6c.2.5.5.9.9 1.2s.7.6 1.2.9c.4.2.8.5 1.2.9s.6.7.9 1.2"/></svg>
            Buat Prompt
        </button>

        <div class="prompt-output">
            <h3>Prompt Bahasa Indonesia:</h3>
            <p id="promptId"></p>
            <button class="copy-btn" data-target="promptId">Salin</button>
        </div>

        <div class="prompt-output">
            <h3>English Prompt:</h3>
            <p id="promptEn"></p>
            <button class="copy-btn" data-target="promptEn">Copy</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get all input elements
            const videoTypeStyleSelect = document.getElementById('videoTypeStyle'); // New element
            const loglineInput = document.getElementById('logline');
            const moodCheckboxes = document.querySelectorAll('input[name="mood"]');
            const otherMoodCheckbox = document.getElementById('otherMoodCheckbox');
            const otherMoodInput = document.getElementById('otherMoodInput');
            const charactersContainer = document.getElementById('charactersContainer');
            const addCharacterBtn = document.getElementById('addCharacterBtn');
            const locationInput = document.getElementById('location');
            const atmosphereInput = document.getElementById('atmosphere');
            const timeSelect = document.getElementById('time');
            const weatherSelect = document.getElementById('weather');
            const seasonSelect = document.getElementById('season');
            const cameraStyleSelect = document.getElementById('cameraStyle');
            const cameraMovementSelect = document.getElementById('cameraMovement');
            const cameraAngleSelect = document.getElementById('cameraAngle');
            const cameraFocusSelect = document.getElementById('cameraFocus');
            const lightingSelect = document.getElementById('lighting');
            const colorGradingSelect = document.getElementById('colorGrading');
            const dialogueTypeSelect = document.getElementById('dialogueType');
            const dialogueContentContainer = document.getElementById('dialogueContentContainer');
            const voiceMoodInput = document.getElementById('voiceMood');
            const environmentalSoundInput = document.getElementById('environmentalSound');
            const backgroundMusicInput = document.getElementById('backgroundMusic');
            const videoQualitySelect = document.getElementById('videoQuality');
            const videoDurationSelect = document.getElementById('videoDuration');
            const videoRatioSelect = document.getElementById('videoRatio');
            const additionalDetailsTextarea = document.getElementById('additionalDetails');
            const generateBtn = document.getElementById('generateBtn');
            const promptIdOutput = document.getElementById('promptId');
            const promptEnOutput = document.getElementById('promptEn');

            let characterCount = 0; // To keep track of characters for unique IDs

            // --- Utility Functions ---

            // Function to copy text to clipboard
            function copyToClipboard(elementId, button) {
                const text = document.getElementById(elementId).innerText;
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);

                button.classList.add('copied');
                setTimeout(() => {
                    button.classList.remove('copied');
                }, 1500); // Remove 'copied' class after 1.5 seconds
            }

            // Translation map for dropdowns and checkboxes
            const translationMap = {
                // Video Type/Style
                'Film Dokumenter': 'Documentary Film',
                'Video Musik': 'Music Video',
                'Animasi Pendek': 'Short Animation',
                'Iklan Produk': 'Product Advertisement',
                'Vlog Perjalanan': 'Travel Vlog',
                'Video Tutorial': 'Tutorial Video',
                'Cinematic': 'Cinematic',
                'Stop Motion': 'Stop Motion',
                'Black and White': 'Black and White',
                'Vintage Film Look': 'Vintage Film Look',
                // Time
                'Pagi hari': 'Morning',
                'Siang hari': 'Daytime',
                'Sore hari': 'Afternoon',
                'Malam hari': 'Night',
                'Fajar': 'Dawn',
                'Senja': 'Dusk',
                // Weather
                'Cerah': 'Clear',
                'Berawan': 'Cloudy',
                'Hujan': 'Rainy',
                'Salju': 'Snowy',
                'Badai': 'Stormy',
                'Berkabut': 'Foggy',
                // Season
                'Musim Semi': 'Spring',
                'Musim Panas': 'Summer',
                'Musim Gugur': 'Autumn/Fall',
                'Musim Dingin': 'Winter',
                'Musim Hujan': 'Rainy Season',
                'Musim Kemarau': 'Dry Season',
                // Camera Style (kept the original from previous context, but will be overshadowed by videoTypeStyle if chosen for overall style)
                'Fotorealistik': 'Photorealistic',
                'Animasi 3D': '3D Animation',
                'Seni Piksel': 'Pixel Art',
                'Cat Air': 'Watercolor',
                'Sketsa': 'Sketch',
                // Camera Movement
                'Tetap': 'Static',
                'Panning': 'Panning',
                'Tilting': 'Tilting',
                'Zoom In': 'Zoom In',
                'Zoom Out': 'Zoom Out',
                'Dolly': 'Dolly (Tracking Shot)',
                'Crane': 'Crane (Boom Shot)',
                'Handheld': 'Handheld',
                'Stabilizer': 'Stabilizer (Smooth tracking)',
                // Camera Angle
                'Mata Elang (Extreme High Angle)': 'Extreme High Angle (Bird\'s Eye View)',
                'Sudut Tinggi (High Angle)': 'High Angle',
                'Setinggi Mata (Eye Level)': 'Eye Level',
                'Sudut Rendah (Low Angle)': 'Low Angle',
                'Sudut Kodok (Worm\'s Eye View)': 'Worm\'s Eye View',
                'Belanda (Dutch Angle)': 'Dutch Angle',
                // Camera Focus
                'Tajam (Sharp)': 'Sharp Focus',
                'Lembut (Soft Focus)': 'Soft Focus',
                'Kedalaman Dangkal (Shallow Depth of Field)': 'Shallow Depth of Field',
                'Kedalaman Dalam (Deep Depth of Field)': 'Deep Depth of Field',
                // Lighting
                'Alami': 'Natural Light',
                'Studio': 'Studio Lighting',
                'Dramatis': 'Dramatic Lighting',
                'Siluet': 'Silhouette',
                'Cahaya Kunci (Key Light)': 'Key Light',
                'Cahaya Pengisi (Fill Light)': 'Fill Light',
                'Backlight': 'Backlight',
                'Cahaya Neon': 'Neon Light',
                // Color Grading
                'Hangat': 'Warm Tones',
                'Dingin': 'Cool Tones',
                'Cerah': 'Bright Colors',
                'Gelap': 'Dark Tones',
                'Monokrom': 'Monochrome',
                'Pastel': 'Pastel Colors',
                'Vibran': 'Vibrant Colors',
                // Dialogue Type
                'Tanpa dialog': 'No dialogue',
                'Informatif': 'Informative dialogue',
                'Natural dialog': 'Natural dialogue',
                'Monolog': 'Monologue',
                'Interview': 'Interview',
                // Video Quality
                '4K UHD': '4K UHD',
                'Full HD (1080p)': 'Full HD (1080p)',
                'HD (720p)': 'HD (720p)',
                'SD': 'SD',
                // Video Duration
                '8 Detik': '8 Seconds',
                '7 Detik': '7 Seconds',
                '6 Detik': '6 Seconds',
                '5 Detik': '5 Seconds',
                '4 Detik': '4 Seconds',
                '3 Detik': '3 Seconds',
                // Video Ratio
                'LANDSCAPE 16:9': 'LANDSCAPE 16:9',
                'PORTRAIT 9:16': 'PORTRAIT 9:16',
                'SQUARE 1:1': 'SQUARE 1:1',
                // Mood checkboxes
                'Lucu': 'Funny',
                'Absurd': 'Absurd',
                'Ringan': 'Lighthearted',
                'Dramatis': 'Dramatic',
                'Misterius': 'Mysterious',
                'Menegangkan': 'Suspenseful',
                'Informatif': 'Informative',
                // Custom Mood (no direct translation needed as user inputs it)
            };

            function translate(text) {
                return translationMap[text] || text;
            }

            // --- Dynamic Character Management ---
            function addCharacterEntry() {
                characterCount++;
                const charId = `char-${characterCount}`;
                const charDiv = document.createElement('div');
                charDiv.classList.add('character-entry');
                charDiv.setAttribute('data-char-id', charId);
                charDiv.innerHTML = `
                    <button type="button" class="remove-btn" data-char-id="${charId}">X</button>
                    <h4 class="text-xl font-semibold mb-3" style="color: #f3f4f6;">Karakter #${characterCount}</h4>
                    <div class="input-group mb-3">
                        <label for="${charId}-name">Nama Karakter (Character Name):</label>
                        <input type="text" id="${charId}-name" placeholder="Contoh: Joni">
                    </div>
                    <div class="input-group mb-3">
                        <label for="${charId}-nationality">Kewarganegaraan (Nationality):</label>
                        <input type="text" id="${charId}-nationality" placeholder="Contoh: Indonesia">
                    </div>
                    <div class="input-group mb-3">
                        <label for="${charId}-characteristics">Karakteristik Subjek (Subject Characteristics):</label>
                        <input type="text" id="${charId}-characteristics" placeholder="Contoh: Pria 35 tahun, kulit gelap, pakai kaos abu-abu dan tas ransel">
                    </div>
                    <div class="input-group mb-3">
                        <label for="${charId}-action">Aksi Utama (Main Action):</label>
                        <input type="text" id="${charId}-action" placeholder="Contoh: pegang papan bertuliskan 'JASA MENDOAKAN'">
                    </div>
                    <div class="input-group">
                        <label for="${charId}-emotion">Emosi (Emotion):</label>
                        <input type="text" id="${charId}-emotion" placeholder="Contoh: Bingung, Ceria, Marah, Sedih">
                    </div>
                `;
                charactersContainer.appendChild(charDiv);

                // Add event listener for remove button
                charDiv.querySelector('.remove-btn').addEventListener('click', (e) => {
                    const idToRemove = e.target.getAttribute('data-char-id');
                    document.querySelector(`.character-entry[data-char-id="${idToRemove}"]`).remove();
                    updateDialogueInputs(); // Update dialogue section after removing a character
                });

                // Add event listener for name input to update dialogue section
                charDiv.querySelector(`#${charId}-name`).addEventListener('input', updateDialogueInputs);

                updateDialogueInputs(); // Update dialogue section after adding a character
            }

            function updateDialogueInputs() {
                dialogueContentContainer.innerHTML = ''; // Clear existing dialogue inputs

                const characterElements = document.querySelectorAll('.character-entry');
                characterElements.forEach(charDiv => {
                    const charId = charDiv.getAttribute('data-char-id');
                    const charNameInput = charDiv.querySelector(`#${charId}-name`);
                    const charName = charNameInput.value.trim();

                    if (charName) {
                        const dialogueDiv = document.createElement('div');
                        dialogueDiv.classList.add('input-group', 'dialogue-entry', 'mb-3');
                        dialogueDiv.innerHTML = `
                            <label for="${charId}-dialogue">Isi Dialog Karakter "${charName}" (Dialogue Content for Character "${charName}"):</label>
                            <textarea id="${charId}-dialogue" rows="2" placeholder="Tulis dialog di sini / Write dialogue here"></textarea>
                        `;
                        dialogueContentContainer.appendChild(dialogueDiv);
                    }
                });
            }

            // Initial add character button event listener
            addCharacterBtn.addEventListener('click', addCharacterEntry);

            // Add the first character entry on load
            addCharacterEntry();

            // --- Other Mood Input Toggle ---
            otherMoodCheckbox.addEventListener('change', () => {
                otherMoodInput.classList.toggle('hidden', !otherMoodCheckbox.checked);
                if (!otherMoodCheckbox.checked) {
                    otherMoodInput.value = ''; // Clear input if unchecked
                }
            });


            // --- Main Prompt Generation Logic ---
            generateBtn.addEventListener('click', () => {
                const videoTypeStyle = videoTypeStyleSelect.value.trim(); // New variable
                const logline = loglineInput.value.trim();
                const selectedMoods = Array.from(moodCheckboxes).filter(cb => cb.checked).map(cb => cb.value);

                // Add custom mood if "Other" is checked and has a value
                if (otherMoodCheckbox.checked && otherMoodInput.value.trim()) {
                    selectedMoods.push(otherMoodInput.value.trim());
                }

                const charactersData = [];
                document.querySelectorAll('.character-entry').forEach(charDiv => {
                    const charId = charDiv.getAttribute('data-char-id');
                    charactersData.push({
                        name: document.getElementById(`${charId}-name`).value.trim(),
                        nationality: document.getElementById(`${charId}-nationality`).value.trim(),
                        characteristics: document.getElementById(`${charId}-characteristics`).value.trim(),
                        action: document.getElementById(`${charId}-action`).value.trim(),
                        emotion: document.getElementById(`${charId}-emotion`).value.trim(),
                        dialogue: document.getElementById(`${charId}-dialogue`) ? document.getElementById(`${charId}-dialogue`).value.trim() : ''
                    });
                });

                const location = locationInput.value.trim();
                const atmosphere = atmosphereInput.value.trim();
                const time = timeSelect.value.trim();
                const weather = weatherSelect.value.trim();
                const season = seasonSelect.value.trim();

                const cameraStyle = cameraStyleSelect.value.trim();
                const cameraMovement = cameraMovementSelect.value.trim();
                const cameraAngle = cameraAngleSelect.value.trim();
                const cameraFocus = cameraFocusSelect.value.trim();
                const lighting = lightingSelect.value.trim();
                const colorGrading = colorGradingSelect.value.trim();

                const dialogueType = dialogueTypeSelect.value.trim();
                const voiceMood = voiceMoodInput.value.trim();
                const environmentalSound = environmentalSoundInput.value.trim();
                const backgroundMusic = backgroundMusicInput.value.trim();

                const videoQuality = videoQualitySelect.value.trim();
                const videoDuration = videoDurationSelect.value.trim();
                const videoRatio = videoRatioSelect.value.trim();

                const additionalDetails = additionalDetailsTextarea.value.trim();

                // --- Construct Indonesian Prompt ---
                let partsId = [];
                let videoGeneralSettingsId = [];
                let storyPartsId = [];
                let characterPartsId = [];
                let settingPartsId = [];
                let cameraPartsId = [];
                let audioPartsId = [];
                let videoSpecPartsId = [];

                // Video General Settings
                if (videoTypeStyle) {
                    videoGeneralSettingsId.push(`Tipe video: ${videoTypeStyle}`);
                }
                if (videoGeneralSettingsId.length > 0) {
                    partsId.push(videoGeneralSettingsId.join(' | '));
                }

                // Story Details
                if (logline) {
                    storyPartsId.push(`Logline: ${logline}`);
                }
                if (selectedMoods.length > 0) {
                    storyPartsId.push(`Mood: ${selectedMoods.join(', ')}`);
                }
                if (storyPartsId.length > 0) {
                    partsId.push(storyPartsId.join(' | '));
                }

                // Characters
                if (charactersData.length > 0) {
                    charactersData.forEach((char, index) => {
                        let charDescId = [];
                        if (char.name) charDescId.push(`Karakter ${char.name}`);
                        if (char.nationality) charDescId.push(`berkewarganegaraan ${char.nationality}`);
                        if (char.characteristics) charDescId.push(`${char.characteristics}`);
                        if (char.action) charDescId.push(`sedang ${char.action}`);
                        if (char.emotion) charDescId.push(`dengan emosi ${char.emotion}`);
                        
                        if (charDescId.length > 0) {
                            characterPartsId.push(charDescId.join(', '));
                        }
                    });
                    if (characterPartsId.length > 0) {
                         partsId.push(`Karakter: ${characterPartsId.join('; ')}`);
                    }
                }

                // Setting
                if (location) {
                    settingPartsId.push(`Lokasi: ${location}`);
                }
                if (atmosphere) {
                    settingPartsId.push(`Suasana: ${atmosphere}`);
                }
                if (time) {
                    settingPartsId.push(`Waktu: ${time}`);
                }
                if (weather) {
                    settingPartsId.push(`Cuaca: ${weather}`);
                }
                if (season) {
                    settingPartsId.push(`Musim: ${season}`);
                }
                if (settingPartsId.length > 0) {
                    partsId.push(`Setting: ${settingPartsId.join(', ')}`);
                }

                // Camera (this is now more granular than videoTypeStyle, consider merging if similar)
                if (cameraStyle) { // This `cameraStyle` might overlap with `videoTypeStyle`
                    cameraPartsId.push(`Gaya kamera: ${cameraStyle}`);
                }
                if (cameraMovement) {
                    cameraPartsId.push(`Pergerakan kamera: ${cameraMovement}`);
                }
                if (cameraAngle) {
                    cameraPartsId.push(`Sudut kamera: ${cameraAngle}`);
                }
                if (cameraFocus) {
                    cameraPartsId.push(`Fokus: ${cameraFocus}`);
                }
                if (lighting) {
                    cameraPartsId.push(`Pencahayaan: ${lighting}`);
                }
                if (colorGrading) {
                    cameraPartsId.push(`Gradasi warna: ${colorGrading}`);
                }
                if (cameraPartsId.length > 0) {
                    partsId.push(`Kamera: ${cameraPartsId.join(', ')}`);
                }

                // Audio
                if (dialogueType) {
                    audioPartsId.push(`Dialog: ${dialogueType}`);
                }
                if (dialogueType && dialogueType !== 'Tanpa dialog') {
                    charactersData.forEach(char => {
                        if (char.name && char.dialogue) {
                            audioPartsId.push(`Dialog Karakter ${char.name}: "${char.dialogue}"`);
                        }
                    });
                }
                if (voiceMood) {
                    audioPartsId.push(`Mood suara: ${voiceMood}`);
                }
                if (environmentalSound) {
                    audioPartsId.push(`Suara lingkungan: ${environmentalSound}`);
                }
                if (backgroundMusic) {
                    audioPartsId.push(`Musik latar: ${backgroundMusic}`);
                }
                if (audioPartsId.length > 0) {
                    partsId.push(`Audio: ${audioPartsId.join(', ')}`);
                }

                // Video Quality & Duration
                if (videoQuality) {
                    videoSpecPartsId.push(`Kualitas video: ${videoQuality}`);
                }
                if (videoDuration) {
                    videoSpecPartsId.push(`Durasi: ${videoDuration}`);
                }
                if (videoRatio) {
                    videoSpecPartsId.push(`Rasio video: ${videoRatio}`);
                }
                 if (videoSpecPartsId.length > 0) {
                    partsId.push(`Video: ${videoSpecPartsId.join(', ')}`);
                }

                // Additional Details
                if (additionalDetails) {
                    partsId.push(`Detail tambahan: ${additionalDetails}`);
                }
                
                let finalPromptId = partsId.filter(p => p).join('. ');
                finalPromptId = finalPromptId.charAt(0).toUpperCase() + finalPromptId.slice(1);
                if (finalPromptId && !finalPromptId.endsWith('.')) {
                    finalPromptId += '.';
                }
                promptIdOutput.innerText = finalPromptId || 'Mohon isi setidaknya satu bidang untuk membuat prompt.';


                // --- Construct English Prompt ---
                let partsEn = [];
                let videoGeneralSettingsEn = [];
                let storyPartsEn = [];
                let characterPartsEn = [];
                let settingPartsEn = [];
                let cameraPartsEn = [];
                let audioPartsEn = [];
                let videoSpecPartsEn = [];

                // Video General Settings
                if (videoTypeStyle) {
                    videoGeneralSettingsEn.push(`Video type: ${translate(videoTypeStyle)}`);
                }
                if (videoGeneralSettingsEn.length > 0) {
                    partsEn.push(videoGeneralSettingsEn.join(' | '));
                }

                // Story Details
                if (logline) {
                    storyPartsEn.push(`Logline: ${logline}`); // Logline is often kept as is
                }
                if (selectedMoods.length > 0) {
                    // Translate standard moods, keep custom mood as is
                    const translatedMoods = selectedMoods.map(mood => translate(mood));
                    storyPartsEn.push(`Mood: ${translatedMoods.join(', ')}`);
                }
                if (storyPartsEn.length > 0) {
                    partsEn.push(storyPartsEn.join(' | '));
                }

                // Characters
                if (charactersData.length > 0) {
                    charactersData.forEach((char, index) => {
                        let charDescEn = [];
                        if (char.name) charDescEn.push(`Character ${char.name}`);
                        if (char.nationality) charDescEn.push(`nationality ${char.nationality}`);
                        if (char.characteristics) charDescEn.push(`${char.characteristics}`);
                        if (char.action) charDescEn.push(`is ${char.action}`);
                        if (char.emotion) charDescEn.push(`with a ${char.emotion} emotion`);
                        
                        if (charDescEn.length > 0) {
                            characterPartsEn.push(charDescEn.join(', '));
                        }
                    });
                     if (characterPartsEn.length > 0) {
                        partsEn.push(`Characters: ${characterPartsEn.join('; ')}`);
                    }
                }

                // Setting
                if (location) {
                    settingPartsEn.push(`Location: ${location}`);
                }
                if (atmosphere) {
                    settingPartsEn.push(`Atmosphere: ${atmosphere}`);
                }
                if (time) {
                    settingPartsEn.push(`Time: ${translate(time)}`);
                }
                if (weather) {
                    settingPartsEn.push(`Weather: ${translate(weather)}`);
                }
                if (season) {
                    settingPartsEn.push(`Season: ${translate(season)}`);
                }
                if (settingPartsEn.length > 0) {
                    partsEn.push(`Setting: ${settingPartsEn.join(', ')}`);
                }

                // Camera
                if (cameraStyle) {
                    cameraPartsEn.push(`Camera style: ${translate(cameraStyle)}`);
                }
                if (cameraMovement) {
                    cameraPartsEn.push(`Camera movement: ${translate(cameraMovement)}`);
                }
                if (cameraAngle) {
                    cameraPartsEn.push(`Camera angle: ${translate(cameraAngle)}`);
                }
                if (cameraFocus) {
                    cameraPartsEn.push(`Focus: ${translate(cameraFocus)}`);
                }
                if (lighting) {
                    cameraPartsEn.push(`Lighting: ${translate(lighting)}`);
                }
                if (colorGrading) {
                    cameraPartsEn.push(`Color grading: ${translate(colorGrading)}`);
                }
                if (cameraPartsEn.length > 0) {
                    partsEn.push(`Camera: ${cameraPartsEn.join(', ')}`);
                }

                // Audio
                if (dialogueType) {
                    audioPartsEn.push(`Dialogue: ${translate(dialogueType)}`);
                }
                if (dialogueType && dialogueType !== 'Tanpa dialog') {
                    charactersData.forEach(char => {
                        if (char.name && char.dialogue) {
                            audioPartsEn.push(`Character ${char.name}'s Dialogue: "${char.dialogue}"`); // Dialogue content remains as is
                        }
                    });
                }
                if (voiceMood) {
                    audioPartsEn.push(`Voice mood: ${voiceMood}`);
                }
                if (environmentalSound) {
                    audioPartsEn.push(`Environmental sound: ${environmentalSound}`);
                }
                if (backgroundMusic) {
                    audioPartsEn.push(`Background music: ${backgroundMusic}`);
                }
                if (audioPartsEn.length > 0) {
                    partsEn.push(`Audio: ${audioPartsEn.join(', ')}`);
                }

                // Video Quality & Duration
                if (videoQuality) {
                    videoSpecPartsEn.push(`Video quality: ${translate(videoQuality)}`);
                }
                if (videoDuration) {
                    videoSpecPartsEn.push(`Duration: ${translate(videoDuration)}`);
                }
                if (videoRatio) {
                    videoSpecPartsEn.push(`Video ratio: ${translate(videoRatio)}`);
                }
                 if (videoSpecPartsEn.length > 0) {
                    partsEn.push(`Video: ${videoSpecPartsEn.join(', ')}`);
                }

                // Additional Details
                if (additionalDetails) {
                    partsEn.push(`Additional details: ${additionalDetails}`);
                }

                let finalPromptEn = partsEn.filter(p => p).join('. ');
                finalPromptEn = finalPromptEn.charAt(0).toUpperCase() + finalPromptEn.slice(1);
                if (finalPromptEn && !finalPromptEn.endsWith('.')) {
                    finalPromptEn += '.';
                }
                promptEnOutput.innerText = finalPromptEn || 'Please fill at least one field to generate a prompt.';
            });

            // Update dialogue inputs when character name changes
            charactersContainer.addEventListener('input', (event) => {
                if (event.target.id.endsWith('-name')) {
                    updateDialogueInputs();
                }
            });

            // Add event listeners for copy buttons
            document.querySelectorAll('.copy-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target');
                    copyToClipboard(targetId, button);
                });
            });
        });
    </script>
</body>
</html>
